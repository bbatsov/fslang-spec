
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://fsharp.github.io/fslang-spec/lexical-analysis/">
      
      
        <link rel="prev" href="../program-structure/">
      
      
        <link rel="next" href="../basic-grammar-elements/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>Lexical Analysis - F# Language Specification</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lexical-analysis" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="F# Language Specification" class="md-header__button md-logo" aria-label="F# Language Specification" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            F# Language Specification
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lexical Analysis
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/fsharp/fslang-spec" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="F# Language Specification" class="md-nav__button md-logo" aria-label="F# Language Specification" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    F# Language Specification
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/fsharp/fslang-spec" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../front-matter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    F# Language Specification
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../program-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Program Structure
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Lexical Analysis
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Lexical Analysis
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#whitespace" class="md-nav__link">
    <span class="md-ellipsis">
      Whitespace
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comments" class="md-nav__link">
    <span class="md-ellipsis">
      Comments
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conditional-compilation" class="md-nav__link">
    <span class="md-ellipsis">
      Conditional Compilation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#identifiers-and-keywords" class="md-nav__link">
    <span class="md-ellipsis">
      Identifiers and Keywords
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#strings-and-characters" class="md-nav__link">
    <span class="md-ellipsis">
      Strings and Characters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#symbolic-keywords" class="md-nav__link">
    <span class="md-ellipsis">
      Symbolic Keywords
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#symbolic-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Symbolic Operators
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#numeric-literals" class="md-nav__link">
    <span class="md-ellipsis">
      Numeric Literals
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Numeric Literals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#post-filtering-of-adjacent-prefix-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      Post-filtering of Adjacent Prefix Tokens
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-filtering-of-integers-followed-by-adjacent" class="md-nav__link">
    <span class="md-ellipsis">
      Post-filtering of Integers Followed by Adjacent “..”
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reserved-numeric-literal-forms" class="md-nav__link">
    <span class="md-ellipsis">
      Reserved Numeric Literal Forms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shebang" class="md-nav__link">
    <span class="md-ellipsis">
      Shebang
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#line-directives" class="md-nav__link">
    <span class="md-ellipsis">
      Line Directives
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hidden-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      Hidden Tokens
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#identifier-replacements" class="md-nav__link">
    <span class="md-ellipsis">
      Identifier Replacements
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../basic-grammar-elements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic Grammar Elements
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../types-and-type-constraints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Types and Type Constraints
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../expressions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Expressions
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Patterns
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../type-definitions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Type Definitions
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../units-of-measure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Units of Measure
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../namespaces-and-modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Namespaces and Modules
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../namespace-and-module-signatures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Namespace and Module Signatures
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../program-structure-and-execution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Program Structure and Execution
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../custom-attributes-and-reflection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Custom Attributes and Reflection
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../inference-procedures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inference Procedures
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lexical-filtering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lexical Filtering
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../provided-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Provided Types
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../special-attributes-and-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Special Attributes and Types
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../the-f-library-fsharpcoredll/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The F# Library FSharp.Core.dll
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../features-for-ml-compatibility/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Features for ML Compatibility
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#whitespace" class="md-nav__link">
    <span class="md-ellipsis">
      Whitespace
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comments" class="md-nav__link">
    <span class="md-ellipsis">
      Comments
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conditional-compilation" class="md-nav__link">
    <span class="md-ellipsis">
      Conditional Compilation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#identifiers-and-keywords" class="md-nav__link">
    <span class="md-ellipsis">
      Identifiers and Keywords
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#strings-and-characters" class="md-nav__link">
    <span class="md-ellipsis">
      Strings and Characters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#symbolic-keywords" class="md-nav__link">
    <span class="md-ellipsis">
      Symbolic Keywords
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#symbolic-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Symbolic Operators
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#numeric-literals" class="md-nav__link">
    <span class="md-ellipsis">
      Numeric Literals
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Numeric Literals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#post-filtering-of-adjacent-prefix-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      Post-filtering of Adjacent Prefix Tokens
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-filtering-of-integers-followed-by-adjacent" class="md-nav__link">
    <span class="md-ellipsis">
      Post-filtering of Integers Followed by Adjacent “..”
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reserved-numeric-literal-forms" class="md-nav__link">
    <span class="md-ellipsis">
      Reserved Numeric Literal Forms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shebang" class="md-nav__link">
    <span class="md-ellipsis">
      Shebang
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#line-directives" class="md-nav__link">
    <span class="md-ellipsis">
      Line Directives
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hidden-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      Hidden Tokens
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#identifier-replacements" class="md-nav__link">
    <span class="md-ellipsis">
      Identifier Replacements
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="lexical-analysis">Lexical Analysis</h1>
<p>Lexical analysis converts an input stream of Unicode characters into a stream of tokens by iteratively
processing the stream. If more than one token can match a sequence of characters in the source file,
lexical processing always forms the longest possible lexical element. Some tokens, such as <code>block-comment-start</code>, are discarded after processing as described later in this section.</p>
<h2 id="whitespace">Whitespace</h2>
<p>Whitespace consists of spaces and newline characters.</p>
<pre><code class="language-fsgrammar">regexp whitespace = ' '+
regexp newline = '\n' | '\r' '\n'
token whitespace-or-newline = whitespace | newline
</code></pre>
<p>Whitespace tokens <code>whitespace-or-newline</code> are discarded from the returned token stream.</p>
<h2 id="comments">Comments</h2>
<p>Block comments are delimited by <code>(*</code> and <code>*)</code> and may be nested. Single-line comments begin with
two backslashes (<code>//</code>) and extend to the end of the line.</p>
<pre><code class="language-fsgrammar">token block-comment-start = &quot;(*&quot;
token block-comment-end = &quot;*)&quot;
token end-of-line-comment = &quot;//&quot; [^'\n' '\r']*
</code></pre>
<p>When the input stream matches a <code>block-comment-start</code> token, the subsequent text is tokenized
recursively against the tokens that are described in §3 until a <code>block-comment-end</code> token is found. The
intermediate tokens are discarded.</p>
<p>For example, comments can be nested, and strings that are embedded within comments are
tokenized by the rules for <code>string</code>, <code>verbatim-string</code> , and <code>triple-quoted string</code>. In particular, strings
that are embedded in comments are tokenized in their entirety, without considering closing <code>*)</code>
marks. As a result of this rule, the following is a valid comment:</p>
<pre><code class="language-fsharp">(* Here's a code snippet: let s = &quot;*)&quot; *)
</code></pre>
<p>However, the following construct, which was valid in F# 2.0, now produces a syntax error because a
closing comment token *) followed by a triple-quoted mark is parsed as part of a string:</p>
<pre><code class="language-fsharp">(* &quot;&quot;&quot; *)
</code></pre>
<p>For the purposes of this specification, comment tokens are discarded from the returned lexical
stream. In practice, XML documentation tokens are <code>end-of-line-comments</code> that begin with ///. The
delimiters are retained and are associated with the remaining elements to generate XML
documentation.</p>
<h2 id="conditional-compilation">Conditional Compilation</h2>
<p>The lexical preprocessing directives <code>#if ident /#else/#endif</code> delimit conditional compilation
sections. The following describes the grammar for such sections:</p>
<pre><code class="language-fsgrammar">token if-directive = &quot;#if&quot; whitespace if-expression-text
token else-directive = &quot;#else&quot;
token endif-directive = &quot;#endif&quot;

if-expression-term =
    ident-text
    '(' if-expression ')'

if-expression-neg =
    if-expression-term
    '!' if-expression-term

if-expression-and =
    if-expression-neg
    if-expression-and &amp;&amp; if-expression-and

if-expression-or =
    if-expression-and
    if-expression-or || if-expression-or

if-expression = if-expression-or
</code></pre>
<p>A preprocessing directive always occupies a separate line of source code and always begins with a #
character followed immediately by a preprocessing directive name, with no intervening whitespace.
However, whitespace can appear before the # character. A source line that contains the <code>#if</code>, <code>#else</code>,
or <code>#endif</code> directive can end with whitespace and a single-line comment. Multiple-line comments are
not permitted on source lines that contain preprocessing directives.</p>
<p>If an <code>if-directive</code> token is matched during tokenization, text is recursively tokenized until a
corresponding <code>else-directive</code> or <code>endif-directive</code>. If the evaluation of the associated
<code>if-expression-text</code> when parsed as an <em>if-expression</em> is true in the compilation environment defines
(where each <code>ident-text</code> is evaluataed according to the values given by command line options such
as <code>–define</code>), the token stream includes the tokens between the <code>if-directive</code> and the corresponding
<code>else-directive</code> or <code>endif-directive</code>. Otherwise, the tokens are discarded. The converse applies to
the text between any corresponding <code>else-directive</code> and the <code>endif-directive</code>.</p>
<ul>
<li>In skipped text, <code>#if ident /#else/#endif</code> sections can be nested.</li>
<li>Strings and comments are not treated as special</li>
</ul>
<h2 id="identifiers-and-keywords">Identifiers and Keywords</h2>
<p>Identifiers follow the specification in this section.</p>
<pre><code class="language-fsgrammar">regexp digit-char = [0-9]
regexp letter-char = '\Lu' | '\Ll' | '\Lt' | '\Lm' | '\Lo' | '\Nl'
regexp connecting-char = '\Pc'
regexp combining-char = '\Mn' | '\Mc'
regexp formatting-char = '\Cf'

regexp ident-start-char =
    | letter-char
    | _

regexp ident-char =
    | letter-char
    | digit-char
    | connecting-char
    | combining-char
    | formatting-char
    | '
    | _

regexp ident-text = ident-start-char ident-char *
token ident =
    | ident-text For example, myName1
    | `` ( [^'`' '\n' '\r' '\t'] | '`' [^ '`' '\n' '\r' '\t'] )+ ``
         example, ``value.with odd#name``
</code></pre>
<p>Any sequence of characters that is enclosed in double-backtick marks (<code>`` ``</code>), excluding newlines,
tabs, and double-backtick pairs themselves, is treated as an identifier. Note that when an identifier is
used for the name of a types, union type case, module, or namespace, the following characters are
not allowed even inside double-backtick marks:</p>
<pre><code class="language-fsgrammar">‘.', '+', '$', '&amp;', '[', ']', '/', '\\', '*', '\&quot;', '`'
</code></pre>
<p>All input files are currently assumed to be encoded as UTF-8. See the C# specification for a list of the
Unicode characters that are accepted for the Unicode character classes \Lu, \Li, \Lt, \Lm, \Lo, \Nl,
\Pc, \Mn, \Mc, and \Cf.</p>
<p>The following identifiers are treated as keywords of the F# language:</p>
<pre><code class="language-fsgrammar">token ident-keyword =
    abstract and as assert base begin class default delegate do done
    downcast downto elif else end exception extern false finally for
    fun function global if in inherit inline interface internal lazy let
    match member module mutable namespace new null of open or
    override private public rec return sig static struct then to
    true try type upcast use val void when while with yield
</code></pre>
<p>The following identifiers are reserved for future use:</p>
<pre><code class="language-fsgrammar">token reserved-ident-keyword =
    atomic break checked component const constraint constructor
    continue eager fixed fori functor include
    measure method mixin object parallel params process protected pure
    recursive sealed tailcall trait virtual volatile
</code></pre>
<p>A future revision of the F# language may promote any of these identifiers to be full keywords.</p>
<p>The following token forms are reserved, except when they are part of a symbolic keyword (<a href="./#symbolic-keywords">§3.6</a>).</p>
<pre><code class="language-fsgrammar">token reserved-ident-formats =
    | ident-text ( '!' | '#')
</code></pre>
<p>In the remainder of this specification, we refer to the token that is generated for a keyword simply
by using the text of the keyword itself.</p>
<h2 id="strings-and-characters">Strings and Characters</h2>
<p>String literals may be specified for two types:</p>
<ul>
<li>Unicode strings, type <code>string = System.String</code></li>
<li>Unsigned byte arrays, type <code>byte[] = bytearray</code></li>
</ul>
<p>Literals may also be specified by using C#-like verbatim forms that interpret <code>\</code> as a literal character
rather than an escape sequence. In a UTF-8-encoded file, you can directly embed the following in a
string in the same way as in C#:</p>
<ul>
<li>Unicode characters, such as “<code>\u0041bc</code>”</li>
<li>Identifiers, as described in the previous section, such as “<code>abc</code>”</li>
<li>Trigraph specifications of Unicode characters, such as “<code>\067</code>” which represents “<code>C</code>”</li>
</ul>
<pre><code class="language-fsgrammar">regexp escape-char = '\' [&quot;\'ntbrafv]
regexp non-escape-chars = '\' [^&quot;\'ntbrafv]
regexp simple-char-char =
    | (any char except '\n' '\t' '\r' '\b' '\a' '\f' '\v' ' \ &quot;)

regexp unicodegraph-short = '\' 'u' hexdigit hexdigit hexdigit hexdigit
regexp unicodegraph-long =  '\' 'U' hexdigit hexdigit hexdigit hexdigit
                                    hexdigit hexdigit hexdigit hexdigit

regexp trigraph = '\' digit-char digit-char digit-char

regexp char-char =
    | simple-char-char
    | escape-char
    | trigraph
    | unicodegraph-short

regexp string-char =
    | simple-string-char
    | escape-char
    | non-escape-chars
    | trigraph
    | unicodegraph-short
    | unicodegraph-long
    | newline

regexp string-elem =
    | string-char
    | '\' newline whitespace * string-elem

token char = ' char-char '
token string = &quot; string-char * &quot;

regexp verbatim-string-char =
    | simple-string-char
    | non-escape-chars
    | newline
    | \
    | &quot;&quot;

token verbatim-string = @&quot; verbatim-string-char * &quot;

token bytechar = ' simple-or-escape-char 'B
token bytearray = &quot; string-char * &quot;B
token verbatim-bytearray = @&quot; verbatim-string-char * &quot;B
token simple-or-escape-char = escape-char | simple-char
token simple-char = any char except newline,return,tab,backspace,',\,&quot;

token triple-quoted-string = &quot;&quot;&quot; simple-or-escape-char* &quot;&quot;&quot;
</code></pre>
<p>To translate a string token to a string value, the F# parser concatenates all the Unicode characters
for the <code>string-char</code> elements within the string. Strings may include <code>\n</code> as a newline character.
However, if a line ends with <code>\</code>, the newline character and any leading whitespace elements on the
subsequent line are ignored. Thus, the following gives <code>s</code> the value <code>"abcdef"</code>:</p>
<pre><code class="language-fsharp">let s = &quot;abc\
    def&quot;
</code></pre>
<p>Without the backslash, the resulting string includes the newline and whitespace characters. For
example:</p>
<pre><code class="language-fsharp">let s = &quot;abc
    def&quot;
</code></pre>
<p>In this case, s has the value <code>abc\010    def</code> where <code>\010</code> is the embedded control character for <code>\n</code>,
which has Unicode UTF-16 value 10.</p>
<p>Verbatim strings may be specified by using the <code>@</code> symbol preceding the string as in C#. For example,
the following assigns the value <code>"abc\def"</code> to <code>s</code>.</p>
<pre><code class="language-fsharp">let s = @&quot;abc\def&quot;
</code></pre>
<p>String-like and character-like literals can also be specified for unsigned byte arrays (type <code>byte[]</code>).
These tokens cannot contain Unicode characters that have surrogate-pair UTF-16 encodings or UTF-
16 encodings greater than 127.</p>
<p>A triple-quoted string is specified by using three quotation marks (<code>"""</code>) to ensure that a string that
includes one or more escaped strings is interpreted verbatim. For example, a triple-quoted string can
be used to embed XML blobs:</p>
<pre><code class="language-fsharp">let catalog = &quot;&quot;&quot;
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;catalog&gt;
    &lt;book id=&quot;book&quot;&gt;
        &lt;author&gt;Author&lt;/author&gt;
        &lt;title&gt;F#&lt;/title&gt;
        &lt;genre&gt;Computer&lt;/genre&gt;
        &lt;price&gt;44.95&lt;/price&gt;
        &lt;publish_date&gt;2012- 10 - 01&lt;/publish_date&gt;
        &lt;description&gt;An in-depth look at creating applications in F#&lt;/description&gt;
    &lt;/book&gt;
&lt;/catalog&gt;
&quot;&quot;&quot;
</code></pre>
<h2 id="symbolic-keywords">Symbolic Keywords</h2>
<p>The following symbolic or partially symbolic character sequences are treated as keywords:</p>
<pre><code class="language-fsgrammar">token symbolic-keyword =
    let! use! do! yield! return!
    | -&gt; &lt;-. : ( ) [ ] [&lt; &gt;] [| |] { }
    ' # :?&gt; :? :&gt; .. :: := ;; ; =
    _? ?? (*) &lt;@ @&gt; &lt;@@ @@&gt;
</code></pre>
<p>The following symbols are reserved for future use:</p>
<pre><code class="language-fsgrammar">token reserved-symbolic-sequence =
    ~ `
</code></pre>
<h2 id="symbolic-operators">Symbolic Operators</h2>
<p>User-defined and library-defined symbolic operators are sequences of characters as shown below,
except where the sequence of characters is a symbolic keyword (<a href="./#symbolic-keywords">§3.6</a>).</p>
<pre><code class="language-fsgrammar">regexp first-op-char = !%&amp;*+-./&lt;=&gt;@^|~
regexp op-char = first-op-char |?

token quote-op-left =
    | &lt;@ &lt;@@

token quote-op-right =
    | @&gt; @@&gt;

token symbolic-op =
    |?
    | ?&lt;-
    | first-op-char op-char *
    | quote-op-left
    | quote-op-right
</code></pre>
<p>For example, <code>&amp;&amp;&amp;</code> and <code>|||</code> are valid symbolic operators. Only the operators <code>?</code> and <code>?&lt;-</code> may start with
<code>?</code>.</p>
<p>The <code>quote-op-left</code> and <code>quote-op-right</code> operators are used in quoted expressions (<a href="../expressions/#quoted-expressions">§6.8</a>).</p>
<p>For details about the associativity and precedence of symbolic operators in expression forms, see
§4.4.</p>
<h2 id="numeric-literals">Numeric Literals</h2>
<p>The lexical specification of numeric literals is as follows:</p>
<pre><code class="language-fsgrammar">regexp digit = [0-9]
regexp hexdigit = digit | [A-F] | [a-f]
regexp octaldigit = [0-7]
regexp bitdigit = [0-1]

regexp int =
    | digit+                                     For example, 34
    | int _ int                                  For example, 123_456_789

regexp hexint =
    | hexdigit+                                  For example, 1f
    | hexint _ hexint                            For example, abc_456_78

regexp octalint =
    | octaldigit+                                For example, 34
    | octalint _ octalint                        For example, 123_4_711

regexp bitint =
    | bitdigit+                                  For example, 11
    | bitint _ bitint                            For example, 1110_0101_0100

regexp xint =
    | 0 (x|X) hexint                             For example, 0x22_1f
    | 0 (o|O) octalint                           For example, 0o42
    | 0 (b|B) bitint                             For example, 0b10010

token sbyte = ( int | xint ) 'y'                 For example, 34y
token byte = ( int | xint ) ' uy'                For example, 34uy
token int16 = ( int | xint ) 's'                 For example, 34s
token uint16 = ( int | xint ) 'us'               For example, 34us
token int32 = ( int | xint ) 'l'                 For example, 34l
token uint32 = ( int | xint ) 'ul'               For example, 34ul
             | ( int | xint ) 'u'                For example, 34u
token nativeint = ( int | xint ) 'n'             For example, 34n
token unativeint = ( int | xint ) 'un'           For example, 34un
token int64 = ( int | xint ) 'L'                 For example, 34L
token uint64 = ( int | xint ) 'UL'               For example, 34UL
             | ( int | xint ) 'uL'               For example, 34uL

token float =
    int . int?
    int (. int?)? (e|E) (+|-)? int

token ieee32 =
    | float [Ff]                                 For example, 3.0F or 3.0f
    | xint 'lf'                                  For example, 0x00000000lf
token ieee64 =
    | float                                      For example, 3.0
    | xint 'LF'                                  For example, 0x0000000000000000LF

token bignum = int ('Q' | ' R' | 'Z' | 'I' | 'N' | 'G')
                                                 For example, 34742626263193832612536171N

token decimal = ( float | int ) [Mm]
</code></pre>
<h3 id="post-filtering-of-adjacent-prefix-tokens">Post-filtering of Adjacent Prefix Tokens</h3>
<p>Negative integers are specified using the <code>–</code> token; for example, <code>-3</code>. The token steam is post-filtered
according to the following rules:</p>
<ul>
<li>If the token stream contains the adjacent tokens <code>– token</code>:</li>
</ul>
<p>If <code>token</code> is a constant numeric literal, the pair of tokens is merged. For example, adjacent tokens
  <code>-</code> and <code>3</code> becomes the single token <code>-3</code>. Otherwise, the tokens remain separate. However the <code>-</code>
  token is marked as an <code>ADJACENT_PREFIX_OP</code> token.</p>
<p>This rule does not apply to the sequence <code>token1 - token2</code>, if all three tokens are adjacent and
  <code>token1</code> is a terminating token from expression forms that have lower precedence than the
  grammar production <code>expr = MINUS expr</code>.</p>
<p>For example, the <code>–</code> and <code>b</code> tokens in the following sequence are not merged if all three tokens
  are adjacent:</p>
<pre><code class="language-fsharp">    a-b
</code></pre>
<ul>
<li>Otherwise, the usual grammar rules apply to the uses of <code>–</code> and <code>+</code>, with an addition for
  <code>ADJACENT_PREFIX_OP</code>:</li>
</ul>
<pre><code class="language-fsgrammar">  expr = expr MINUS expr
      | MINUS expr
      | ADJACENT_PREFIX_OP expr
</code></pre>
<h3 id="post-filtering-of-integers-followed-by-adjacent">Post-filtering of Integers Followed by Adjacent “..”</h3>
<p>Tokens of the form</p>
<pre><code class="language-fsgrammar">token intdotdot = int..
</code></pre>
<p>such as <code>34..</code> are post-filtered to two tokens: one <code>int</code> and one <code>symbolic-keyword</code> , “<code>..</code>”.</p>
<p>This rule allows “<code>..</code>” to immediately follow an integer. This construction is used in expressions of the
form <code>[for x in 1..2 -&gt; x + x ]</code>. Without this rule, the longest-match rule would consider this
sequence to be a floating-point number followed by a “<code>.</code>”.</p>
<h3 id="reserved-numeric-literal-forms">Reserved Numeric Literal Forms</h3>
<p>The following token forms are reserved for future numeric literal formats:</p>
<pre><code class="language-fsgrammar">token reserved-literal-formats =
    | (xint | ieee32 | ieee64) ident-char+
</code></pre>
<h3 id="shebang">Shebang</h3>
<p>A shebang (#!) directive may exist at the beginning of F# source files. Such a line is treated as a
comment. This allows F# scripts to be compatible with the Unix convention whereby a script
indicates the interpreter to use by providing the path to that interpreter on the first line, following
the #! directive.</p>
<pre><code class="language-fsharp">#!/bin/usr/env fsharpi --exec
</code></pre>
<h2 id="line-directives">Line Directives</h2>
<p>Line directives adjust the source code filenames and line numbers that are reported in error
messages, recorded in debugging symbols, and propagated to quoted expressions. F# supports the
following line directives:</p>
<pre><code class="language-fsgrammar">token line-directive =
    # int
    # int string
    # int verbatim-string
    #line int
    #line int string
    #line int verbatim-string
</code></pre>
<p>A line directive applies to the line that immediately follows the directive. If no line directive is
present, the first line of a file is numbered 1.</p>
<h2 id="hidden-tokens">Hidden Tokens</h2>
<p>Some hidden tokens are inserted by lexical filtering (§ 15 ) or are used to replace existing tokens. See
§ 15 for a full specification and for the augmented grammar rules that take these into account.</p>
<h2 id="identifier-replacements">Identifier Replacements</h2>
<p>The following table lists identifiers that are automatically replaced by expressions.</p>
<table>
<thead>
<tr>
<th>Identifier</th>
<th>Replacement</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>__SOURCE_DIRECTORY__</code></td>
<td>A literal verbatim string that specifies the name of the directory that contains the <br> current file. For example:<br><code>C:\source</code><br>The name of the current file is derived from the most recent line directive in the file. If no line directive has appeared, the name is derived from the name that was specificed to the command-line compiler in combination with<br> <code>System.IO.Path.GetFullPath</code>.<br> In F# Interactive, the name <code>stdin</code> is used. When F# Interactive is used from tools such as Visual Studio, a line directive is implicitly added before the interactive execution of each script fragment.</td>
</tr>
<tr>
<td><code>__SOURCE_FILE__</code></td>
<td>A literal verbatim string that contains the name of the current file. For example:<br><code>file.fs</code></td>
</tr>
<tr>
<td><code>__LINE__</code></td>
<td>A literal string that specifies the line number in the source file, after taking into account adjustments from line directives.</td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2005-2025 F# contributors. Made available under the <a href='https://creativecommons.org/licenses/by/4.0/'>Creative Commons CC-by 4.0</a> licence.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>